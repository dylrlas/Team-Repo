pico-8 cartridge // http://www.pico-8.com
version 36
__lua__
--cs477 pgp project
--developed by: radical ascension
--"battle of chaos"


--basic game logo on the splash screen
--create game dev. logo

function create_logo()
--clears section
cls()
	sfx(1)
	local c=0
while (c < 190) do
		--tv monster appears
		if(c==15) then
		 	spr(64, 68, 81, 2, 2)
		end
		if (c>124) then
    spr(32,55,68)
    elseif (c>60) then
    spr(32,55,68)
    elseif (c>28) then
    spr(32,65,68)
    elseif (c>13) then
    spr(32,75,68)
    else
    spr(32,85,68)
    end
 	if (c>60) then
    spr(32,55,60)
    print("radical ascension",41,50,8)
    end
    flip() 
    c+=1
  end
end


--basic character movement
function _init()

create_logo()
--clears screen 
cls(0)

--play the retro combat music
sfx(5)
sfx(6)
sfx(7)
sfx(8)
sfx(9)
sfx(10)
sfx(11)
sfx(12)

--start of class
warrior={
sp = 1,
x = 80,
y = 80,
dx = 0,
dy = 0,
w=16,h=16,
	max_dx=2,
	max_dy=3,
	jump=4,
		speed=1.333,
		delta_t=0,
		moving=false,
		jumping=false,
		falling=false,
}

--enemy class
enemies = {
sp = 5,
x = 80,
y = 80,  
}

--ammo counter
ammo = {
sp = 7,
x = 1,
y = 118,
w = 2,
h = 2,
}

gravity = 0.5
friciton = 0.80

--set player max health and max armor
health = 100
armor = 100

--add enemies in random locations
enemies = {}
for i = 1,20 do
   local enemy_spr = {
     sp = 5,
     x = flr(rnd(16))*8,
     y = flr(rnd(16))*8,
   }
   add(enemies, enemy_spr)
 end

--add health loot
health_pickups = {}
for i = 1,20 do
   local health_loot = {
     sp = 2,
     x = flr(rnd(16))*8,
     y = flr(rnd(16))*8,
   }
   add(health_pickups, health_loot)
 end

--add armor loot
armor_pickups = {}
for i = 1,20 do
   local armor_loot = {
     sp = 6,
     x = flr(rnd(16))*8,
     y = flr(rnd(16))*8,
   }
   add(armor_pickups, armor_loot)
   end
end


function _update()
warrior.dy += gravity
warrior.dx *= friciton

--controls

if game_over != true then
--control scheme
if btn(⬇️) then
warrior.y += 2
end

if btn(⬆️) then
warrior.y -= 2
end

if btn(⬅️) then
warrior.x -= 2
end

if btn(➡️) then
warrior.x += 2
 end
end

warrior.x = mid(0,120,warrior.x)
warrior.y = mid(0,120,warrior.y)


--spawn health loot onto map
for health_loot in all (health_pickups) do
  if health_loot.x == warrior.x and health_loot.y == warrior.y then
    health += 5
    del(health_pickups, health_loot)
    sfx(0)
    health+= 5
  end
 end
 
--spawn armor loot onto map
for armor_loot in all (armor_pickups) do
  if armor_loot.x == warrior.x and armor_loot.y == warrior.y then
    armor += 2
    del(armor_pickups, armor_loot)
    sfx(3)
    armor+= 3
  end
 end

--spawn enemies onto map
for enemy_spr in all (enemies) do
  if enemy_spr.x == warrior.x and enemy_spr.y == warrior.y then
    del(enemies, enemy_spr)
    sfx(4)
  end
 end 

 if health == 0 and armor == 0 then
   game_over = true
 end
end 

--draw function
function _draw()
  cls()
  spr(64,10,30,2,2)
  --ammo counter sprite
  spr(7,70,24,2,2)
  map(0,0,0,0,16,16)
  spr(warrior.sp, warrior.x, warrior.y)
  spr(enemies.sp, enemies.x, enemies.y)
  spr(ammo.sp, ammo.x, ammo.y, ammo.w, ammo.h)
 
  --draw enemies onto map
  for enemy_spr in all (enemies) do  
     spr(enemy_spr.sp, enemy_spr.x, enemy_spr.y)
  end
 
 --draw health onto map
  for health_loot in all (health_pickups) do  
     spr(health_loot.sp, health_loot.x, health_loot.y)
  end
  
  --draw armor onto map
   for armor_loot in all (armor_pickups) do  
     spr(armor_loot.sp, armor_loot.x, armor_loot.y)
  end
  
  print('health: '..health,10,10,3)
  print('armor: '..armor,10,20,7)
  
  if game_over == true then
  print('you died...press x to continue')
  end
end





































--implement final boss onto screen

-->8
--cs477 pgp project
--developed by: radical ascension
--" battle of chaos"


__gfx__
00000000000000000000000099999999888888885000000500000000ddddddddddddd00000000000000000000000000000000000000000000000000000000000
00000000004bb4000000000098988989888888880544445000000000ddddddddddddd00000000000000000000000000000000000000000000000000000000000
0070070000baab00000bb000988888898888888808a88a8000000000dd4d4d4d44ddd00000000000000000000000000000000000000000000000000000000000
000770000b4bb4b0000dd00098888889888888880888888000077000dd4d4d4d44ddd00000000000000000000000000000000000000000000000000000000000
000770000b8448b0000110009888888988888888008aa80000022000dd4d4d4d44ddd00000000000000000000000000000000000000000000000000000000000
00600700040bb04000b11b0098888889888888880888888000711700dd999d9999ddd00000000000000000000000000000000000000000000000000000000000
0000000000bddb00001bb10098988989888888880984489000177100dddd9d9dd9ddd00000000000000000000000000000000000000000000000000000000000
00000000044004400001100099999999888888880044440000011000dd999d9dd9ddd00000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000dddd9d9dd9ddd00000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000dd999d9999ddd00000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000ddddddddddddd00000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
b00000000000000b0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
06000000000000600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00600000000006000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00060000000060000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00888888888880000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
08cccccccccc80000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
08cccccccccc80000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
08cccccccccc80000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
08444c4444cc80000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
08444c4444cc80000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
08c8a8c8a8cc80000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
08cccccccccc80000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
08c9999999cc80000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
08c9aaaaa9cc80000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
08cc99999ccc80000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00888888888800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
0303030303030303030303030303030303030303030303030303030303030303030303030303030303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030303030303030303030303030303030303030303030303030303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030303030303030303030303030303030303030303030303030303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030303030303030303030303030303030303030303030303030303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030303030303030303030303030303030303030303030303030303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030303030303030303030303030303030303030303030303030303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030303030303030303030303030303030303030303030303030303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030303030303030303030303030303030303030303030303030303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030303030303030303030303030303030303030303030303030303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030303030303030303030303030303030303030303030303030303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030303030303030303030303030303030303030303030303030303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030303030303030303030303030303030303030303030303030303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030303030303030303030303030303030303030303030303030303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030303030303030303030303030303030303030303030303030303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030303030303030303030303030303030303030303030303030303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030303030303030303030303030303030303030303030303030303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030303030303030303030303030303030303030303030303030303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030303030303030303030303030303030303030303030303030303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
01050401180501e050260502905029050290501e000300000c00025500270002a500306002a50027000275000c00025000275002a500306002a5002a000275000c00025000275002a50030600360003650033500
501500000f010140101a02021030190402a0401c0501d05026050130401c0402d0401b0402a040170401b04021040240500b070210501f0501e0601c07024050260502705028050170502c0502b0502905020050
01050000300501e05026050220501b050190501e050300500c04325525270252a525306152a52527025275250c04325025275252a525306152a5252a025275250c04325025275252a52530615360253652533525
000300000045001450064500c4500f45011450114500d45008450074500745008450084500a4500c4500d4500f450104501245013450154501645017450184501945019450194500000000000000000000000000
000100000a5500c5500d55011550125501455015550175501855018550195501a5501a5501b5501c5501d5501e5501b65019650176501565013650116500f6500d6500b6500a6500965007650066500265000650
0110000a0c04325025270252c025246152c0250c04325015270152c015246152a0152c015270150c04325015270152c015246152a0152c015270150c04325015270152c015246152a0152c0152c0250c04325015
0110000a0344506335082250a4150d3450323506425083150a3450d2350c0112a0152c015270150344506335082250a4150d3450323506425083150a3450d2350a3450d2350c0112a0152c015083150a3450d235
0910000a0f015125251401516525190150f525120151452516015195250c0152a0152c015270150f015125251401516525190150f52512015145251601519525195250c0152a0152c01527015145251601519525
0910000a25325273252c3252e3262a3252c325273251e05525325273272c3252a0152c0152701525325273252c3252e3262a3252c3252732527315220552b0550c04025025270252c025246152c0250c04325015
0010000a0c04325025270252c025246152c0250c04325015270152c015246152a0152c015270150c04325015270152c015246152a0152c01527015246152a0152c015270150c04325015270152c015246152a015
0010000a0344506335082250a4150d3450323506425083150a3450d2350c0112a0152c015270150344506335082250a4150d3450323506425083150a3450d2350c0112a0152c0152701503445063350d2350c011
0010000a0a3450d2350c0112a0152c015083150a3450d2350a3450d2350c0112a0152c01527015195250c0152a0152c0152701514525160151952516015195250c0152a0152c015270150f015125250f52512015
0110000a25325273272c3252a0152c0152701525325273252c3252e3262a3252c3252732527315220552b05525325273250c04025025270252c025246152c0250c043250150f5251201514525160151952527325
__music__
03 05060708
06 090a0b0c

